{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/richarddows/Projects/skyTestThree/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"/Users/richarddows/Projects/skyTestThree/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/richarddows/Projects/skyTestThree/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/richarddows/Projects/skyTestThree/src/containers/displaymessages.js\",\n    _templateObject;\n\nimport React from 'react';\nimport Moment from 'moment';\nimport 'styled-components';\nimport { getMembers, getMessages } from '../data';\n\nvar formatMessages = function formatMessages() {\n  return getMessages();\n};\n\nvar formatMembers = function formatMembers() {\n  return getMembers();\n};\n\nvar DisplayMessages = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var messages, members, getUserEmail, getUserAvatar, getUserName, getTimestamp, sortMessages;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return formatMessages();\n\n          case 2:\n            messages = _context.sent;\n            _context.next = 5;\n            return formatMembers();\n\n          case 5:\n            members = _context.sent;\n\n            getUserEmail = function getUserEmail(id) {\n              return members.find(function (m) {\n                return m.id === id;\n              }).email;\n            };\n\n            getUserAvatar = function getUserAvatar(id) {\n              return members.find(function (m) {\n                return m.id === id;\n              }).avatar;\n            };\n\n            getUserName = function getUserName(id) {\n              var user = members.find(function (m) {\n                return m.id === id;\n              });\n              console.log('user', user);\n              return \"\".concat(user.firstName, \" \").concat(user.lastName);\n            };\n\n            getTimestamp = function getTimestamp(id) {\n              return Moment(messages.find(function (m) {\n                return m.id === id;\n              }).timestamp).format('ddd mmm yyyy hh:mm');\n            };\n\n            sortMessages = function sortMessages() {\n              return messages.sort(function (a, b) {\n                return a.timestamp - b.timestamp;\n              });\n            };\n\n            sortMessages();\n            return _context.abrupt(\"return\", messages.map(function (m) {\n              console.log('m', m);\n              return /*#__PURE__*/React.createElement(MessageSection, {\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 46,\n                  columnNumber: 9\n                }\n              }, /*#__PURE__*/React.createElement(\"article\", {\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 47,\n                  columnNumber: 11\n                }\n              }, /*#__PURE__*/React.createElement(\"img\", {\n                alt: \"Avatar for \".concat(getUserName(m.userId)),\n                src: getUserAvatar(m.userId),\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 13\n                }\n              }), /*#__PURE__*/React.createElement(\"p\", {\n                title: getUserEmail(m.userId),\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 49,\n                  columnNumber: 13\n                }\n              }, /*#__PURE__*/React.createElement(\"span\", {\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 15\n                }\n              }, m.message), /*#__PURE__*/React.createElement(\"span\", {\n                __self: _this,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 15\n                }\n              }, getTimestamp(m.id)))));\n            }));\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function DisplayMessages() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar MessageSection = styled.section(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  width: 90%;\\n  margin: 0 5%;\\n  background-color: green;\\n\"])));\nexport default DisplayMessages;","map":{"version":3,"sources":["/Users/richarddows/Projects/skyTestThree/src/containers/displaymessages.js"],"names":["React","Moment","getMembers","getMessages","formatMessages","formatMembers","DisplayMessages","messages","members","getUserEmail","id","find","m","email","getUserAvatar","avatar","getUserName","user","console","log","firstName","lastName","getTimestamp","timestamp","format","sortMessages","sort","a","b","map","userId","message","MessageSection","styled","section"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Moment from 'moment';\nimport 'styled-components';\nimport { getMembers, getMessages } from '../data';\n\nconst formatMessages = () => {\n  return getMessages();\n};\n\nconst formatMembers = () => {\n  return getMembers();\n};\n\nconst DisplayMessages = async () => {\n  const messages = await formatMessages();\n  const members = await formatMembers();\n\n  const getUserEmail = (id) => {\n    return members.find(m => m.id === id).email;\n  };\n\n  const getUserAvatar = (id) => {\n    return members.find(m => m.id === id).avatar;\n  };\n\n  const getUserName = (id) => {\n    const user = members.find(m => m.id === id);\n    console.log('user', user);\n    return `${user.firstName} ${user.lastName}`;\n  }\n\n  const getTimestamp = (id) => {\n    return Moment(messages.find(m => m.id === id).timestamp).format('ddd mmm yyyy hh:mm');\n  }\n\n  const sortMessages = () => {\n    return messages.sort((a, b) => a.timestamp - b.timestamp);\n  };\n\n  sortMessages();\n\n  return (\n    messages.map(m => {\n      console.log('m', m);\n      return (\n        <MessageSection>\n          <article>\n            <img alt={`Avatar for ${getUserName(m.userId)}`} src={getUserAvatar(m.userId)} />\n            <p title={getUserEmail(m.userId)}>\n              <span>{m.message}</span>\n              <span>{getTimestamp(m.id)}</span>\n            </p>\n          </article>\n        </MessageSection>\n      )\n    })\n  );\n};\n\nconst MessageSection = styled.section`\n  width: 90%;\n  margin: 0 5%;\n  background-color: green;\n`;\n\nexport default DisplayMessages;"]},"metadata":{},"sourceType":"module"}